{% extends "user/base.html" %}

{% block head %}
<link href="/static/css/morris.css" rel="stylesheet">
{% endblock %}

{% block body %}
<div class="row">
    <div class="col-lg-8">
        <div class="ibox-content" ng-app="myApp" ng-controller="customersCtrl">
            <h2>Stock Optimization Results</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Company Name</th>
                        <th>Ticker Symbol</th>
                        <th>Amount of Shares to purchase</th>
                        <th>Buy Date</th>
                        <th>Sell Date</th>
                        <th>Expected Return</th>
                        <th>Risk Level</th>
                    </tr>
                </thead>
                <tbody ng-repeat="x in names">
                    <tr>
                    <td>
                        <p>{{ x.Name }}</p>
                        <a href="/user/portfolio" class="btn btn-default">
                            <i class="fa fa-line-chart"></i>
                        </a>
                        <a class="btn btn-primary" href="http://finance.yahoo.com/q?s=GOOG"><i class="fa fa-hacker-news"></i></a>

                    </td>
                    <td>{{ x.Name }}</td>
                    <td>{{ x.Country }}</td>
                    <td>12/14/15</td>
                    <td>12/16/15</td>
                    <td><b>+3400$</b></td>
                    <td><span class="label label-warning-light">Medium</span></td>
                </tr>
                </tbody>
            </table>
        </div>
        <br>

        <div class="col-lg-3">
            <a href="/user/portfolio_settings" class="btn btn-block btn-default">Back</a>
        </div>
    </div>

    <div class="col-lg-4">
        <div class="ibox-content">
            <div id="morris-donut-chart" style="height:400px"></div>
            <br>
            <div class="row">
                <div class="col-lg-6">
                    <h3><b>Total Expected Return</b></h3>
                    <h2>17,300$</h2>
                </div>
                <div class="col-lg-6 text-right">
                    <h3><b>Total Risk</b></h3>
                    <span class="label label-primary">Low</span>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script src="/static/js/morris.js"></script>
<script src="/static/js/raphael.js"></script>

<script type="text/javascript">
$(function() {
   Morris.Donut({
        element: 'morris-donut-chart',
        data: [{ label: "Google", value: 1200 },
            { label: "Yahoo", value: 850 },
            { label: "Apple", value: 3400 } ],
        resize: true,
        colors: ['#87d6c6', '#54cdb4','#1ab394'],
    });
});

var app = angular.module('myApp', []);
app.controller('customersCtrl', function($scope, $http) {
    $http.get("http://www.w3schools.com/angular/customers.php")
    .then(function (response) {$scope.names = response.data.records;});
});

</script>
{% endblock %}